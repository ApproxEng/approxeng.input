

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Command-line tools &mdash; Approximate Engineering - Input 2.6.3 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Approximate Engineering - Input 2.6.3 documentation"
          href="_static/opensearch.xml"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pairing Controllers over Bluetooth" href="bluetooth.html" />
    <link rel="prev" title="Simple Usage" href="simpleusage.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> Approximate Engineering - Input
          

          
          </a>

          
            
            
              <div class="version">
                2.6.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="simpleusage.html">Simple Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="simpleusage.html#standard-names">Standard Names</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Command-line tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#interactive-controller-test">Interactive controller test</a></li>
<li class="toctree-l2"><a class="reference internal" href="#profile-a-new-controller">Profile a new controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="#list-known-controller-types">List known controller types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#list-available-devices">List available devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="#debug-system-device-nodes">Debug system device nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="bluetooth.html">Pairing Controllers over Bluetooth</a></li>
<li class="toctree-l1"><a class="reference internal" href="profiling.html">Profiling and Testing Controllers</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="addingcontrollers.html">Adding support for a new controller type</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="howtouse.html">Advanced Usage Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="sys.html">LEDs and Battery Monitoring</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Approximate Engineering - Input</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Command-line tools</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="command-line-tools">
<h1>Command-line tools<a class="headerlink" href="#command-line-tools" title="Permalink to this headline">¶</a></h1>
<p>When installed, this library provides a set of command-line tools. Note that if you’re running in a virtual environment
you’ll need to activate the environment before these are available. They can be run like any other command from a
terminal, and do not require a windowing system so you should be able to run these remotely over SSH, for example.</p>
<div class="section" id="interactive-controller-test">
<h2>Interactive controller test<a class="headerlink" href="#interactive-controller-test" title="Permalink to this headline">¶</a></h2>
<p>The <cite>approxeng_input_show_controls</cite> tool will wait for the first controller to connect, then show a curses-based GUI
where you can test reception of axis and button events. It’s also a good way to check that a newly profiled controller
is behaving as expected. In previous versions of the library this was something you could run from the <cite>scripts</cite>
directory in the source, it’s been moved to work for anyone installing the library through pip.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; approxeng_input_show_controls
</pre></div>
</div>
<p>With a controller connected, this will display something like the following:</p>
<img alt="_images/showcontrols.png" src="_images/showcontrols.png" />
</div>
<div class="section" id="profile-a-new-controller">
<h2>Profile a new controller<a class="headerlink" href="#profile-a-new-controller" title="Permalink to this headline">¶</a></h2>
<p>If you’ve got a relatively simple controller but one that’s not already recognised by the library,
the profiling tool allows you to create a configuration interactively. See <a class="reference internal" href="profiling.html#profiling"><span class="std std-ref">Profiling and Testing Controllers</span></a> for more details.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; approxeng_input_profile
</pre></div>
</div>
</div>
<div class="section" id="list-known-controller-types">
<h2>List known controller types<a class="headerlink" href="#list-known-controller-types" title="Permalink to this headline">¶</a></h2>
<p>Shows all known controller classes, including whether these are custom or profiled along with the corresponding
product and vendor IDs.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; approxeng_input_classes
┌────────┬─────────┬───────────────────────────────────────────────────────────────────┬────────────────────┐
│ Vendor │ Product │ Controller Name                                                   │ Class              │
├────────┼─────────┼───────────────────────────────────────────────────────────────────┼────────────────────┤
│ 045e   │ 02ea    │ Microsoft X-Box One S pad                                         │ ProfiledController │
│ 045e   │ 02fd    │ Xbox Wireless Controller                                          │ ProfiledController │
│ 046d   │ c62b    │ 3Dconnexion SpaceMouse Pro                                        │ SpaceMousePro      │
│ 054c   │ <span class="m">0268</span>    │ Sony DualShock3 <span class="o">(</span>Playstation <span class="m">3</span><span class="o">)</span> controller                        │ DualShock3         │
│ 054c   │ 05c4    │ Sony DualShock4 <span class="o">(</span>Playstation <span class="m">4</span><span class="o">)</span> controller                        │ DualShock4         │
│ 054c   │ 09cc    │ Sony DualShock4 <span class="o">(</span>Playstation <span class="m">4</span><span class="o">)</span> controller                        │ DualShock4         │
│ 057e   │ <span class="m">0306</span>    │ Nintendo WiiMote controller                                       │ WiiMote            │
│ 057e   │ <span class="m">0330</span>    │ Nintendo Wii Remote Pro Controller                                │ ProfiledController │
│ 057e   │ <span class="m">2006</span>    │ Nintendo Switch JoyCon controller <span class="o">(</span>Left<span class="o">)</span>                          │ SwitchJoyConLeft   │
│ 057e   │ <span class="m">2007</span>    │ Nintendo Switch JoyCon controller <span class="o">(</span>Right<span class="o">)</span>                         │ SwitchJoyConRight  │
│ 0e6f   │ <span class="m">0128</span>    │ Performance Designed Products Rock Candy Wireless Gamepad <span class="k">for</span> PS3 │ ProfiledController │
│ <span class="m">2563</span>   │ <span class="m">0526</span>    │ PiHut PS3-alike controller                                        │ PiHut              │
│ <span class="m">2563</span>   │ <span class="m">0575</span>    │ PiHut PS3-alike controller                                        │ PiHut              │
│ 28de   │ <span class="m">1142</span>    │ Valve Steam Controller                                            │ SteamController    │
│ 2dc8   │ <span class="m">6100</span>    │ 8Bitdo SF30 Pro                                                   │ SF30Pro            │
└────────┴─────────┴───────────────────────────────────────────────────────────────────┴────────────────────┘
</pre></div>
</div>
</div>
<div class="section" id="list-available-devices">
<h2>List available devices<a class="headerlink" href="#list-available-devices" title="Permalink to this headline">¶</a></h2>
<p>As a quick check to see what joystick-like devices exist on your system, you can do this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; approxeng_input_list_devices
<span class="o">{</span> <span class="s1">&#39;axes&#39;</span>: <span class="o">{</span> <span class="s1">&#39;ABS_HAT0X&#39;</span>: <span class="o">{</span> <span class="s1">&#39;code&#39;</span>: <span class="m">16</span>,
                           <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>,
                           <span class="s1">&#39;fuzz&#39;</span>: <span class="m">256</span>,
                           <span class="s1">&#39;max&#39;</span>: <span class="m">32767</span>,
                           <span class="s1">&#39;min&#39;</span>: -32767,
                           <span class="s1">&#39;res&#39;</span>: <span class="m">1638</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_HAT0Y&#39;</span>: <span class="o">{</span> <span class="s1">&#39;code&#39;</span>: <span class="m">17</span>,
                           <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>,
                           <span class="s1">&#39;fuzz&#39;</span>: <span class="m">256</span>,
                           <span class="s1">&#39;max&#39;</span>: <span class="m">32767</span>,
                           <span class="s1">&#39;min&#39;</span>: -32767,
                           <span class="s1">&#39;res&#39;</span>: <span class="m">1638</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_HAT2X&#39;</span>: <span class="o">{</span><span class="s1">&#39;code&#39;</span>: <span class="m">20</span>, <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;fuzz&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;max&#39;</span>: <span class="m">255</span>, <span class="s1">&#39;min&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;res&#39;</span>: <span class="m">51</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_HAT2Y&#39;</span>: <span class="o">{</span><span class="s1">&#39;code&#39;</span>: <span class="m">21</span>, <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;fuzz&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;max&#39;</span>: <span class="m">255</span>, <span class="s1">&#39;min&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;res&#39;</span>: <span class="m">51</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_RX&#39;</span>: <span class="o">{</span><span class="s1">&#39;code&#39;</span>: <span class="m">3</span>, <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;fuzz&#39;</span>: <span class="m">256</span>, <span class="s1">&#39;max&#39;</span>: <span class="m">32767</span>, <span class="s1">&#39;min&#39;</span>: -32767, <span class="s1">&#39;res&#39;</span>: <span class="m">1638</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_RY&#39;</span>: <span class="o">{</span><span class="s1">&#39;code&#39;</span>: <span class="m">4</span>, <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;fuzz&#39;</span>: <span class="m">256</span>, <span class="s1">&#39;max&#39;</span>: <span class="m">32767</span>, <span class="s1">&#39;min&#39;</span>: -32767, <span class="s1">&#39;res&#39;</span>: <span class="m">1638</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_X&#39;</span>: <span class="o">{</span><span class="s1">&#39;code&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;fuzz&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;max&#39;</span>: <span class="m">32767</span>, <span class="s1">&#39;min&#39;</span>: -32767, <span class="s1">&#39;res&#39;</span>: <span class="m">51</span><span class="o">}</span>,
            <span class="s1">&#39;ABS_Y&#39;</span>: <span class="o">{</span><span class="s1">&#39;code&#39;</span>: <span class="m">1</span>, <span class="s1">&#39;flat&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;fuzz&#39;</span>: <span class="m">0</span>, <span class="s1">&#39;max&#39;</span>: <span class="m">32767</span>, <span class="s1">&#39;min&#39;</span>: -32767, <span class="s1">&#39;res&#39;</span>: <span class="m">51</span><span class="o">}}</span>,
  <span class="s1">&#39;bus&#39;</span>: <span class="m">3</span>,
  <span class="s1">&#39;buttons&#39;</span>: <span class="o">{</span> <span class="m">289</span>: <span class="s1">&#39;BTN_THUMB&#39;</span>,
               <span class="m">290</span>: <span class="s1">&#39;BTN_THUMB2&#39;</span>,
               <span class="m">304</span>: <span class="o">[</span><span class="s1">&#39;BTN_A&#39;</span>, <span class="s1">&#39;BTN_GAMEPAD&#39;</span>, <span class="s1">&#39;BTN_SOUTH&#39;</span><span class="o">]</span>,
               <span class="m">305</span>: <span class="o">[</span><span class="s1">&#39;BTN_B&#39;</span>, <span class="s1">&#39;BTN_EAST&#39;</span><span class="o">]</span>,
               <span class="m">307</span>: <span class="o">[</span><span class="s1">&#39;BTN_NORTH&#39;</span>, <span class="s1">&#39;BTN_X&#39;</span><span class="o">]</span>,
               <span class="m">308</span>: <span class="o">[</span><span class="s1">&#39;BTN_WEST&#39;</span>, <span class="s1">&#39;BTN_Y&#39;</span><span class="o">]</span>,
               <span class="m">310</span>: <span class="s1">&#39;BTN_TL&#39;</span>,
               <span class="m">311</span>: <span class="s1">&#39;BTN_TR&#39;</span>,
               <span class="m">312</span>: <span class="s1">&#39;BTN_TL2&#39;</span>,
               <span class="m">313</span>: <span class="s1">&#39;BTN_TR2&#39;</span>,
               <span class="m">314</span>: <span class="s1">&#39;BTN_SELECT&#39;</span>,
               <span class="m">315</span>: <span class="s1">&#39;BTN_START&#39;</span>,
               <span class="m">316</span>: <span class="s1">&#39;BTN_MODE&#39;</span>,
               <span class="m">317</span>: <span class="s1">&#39;BTN_THUMBL&#39;</span>,
               <span class="m">318</span>: <span class="s1">&#39;BTN_THUMBR&#39;</span>,
               <span class="m">336</span>: <span class="o">[</span><span class="s1">&#39;BTN_GEAR_DOWN&#39;</span>, <span class="s1">&#39;BTN_WHEEL&#39;</span><span class="o">]</span>,
               <span class="m">337</span>: <span class="s1">&#39;BTN_GEAR_UP&#39;</span>,
               <span class="m">544</span>: <span class="s1">&#39;BTN_DPAD_UP&#39;</span>,
               <span class="m">545</span>: <span class="s1">&#39;BTN_DPAD_DOWN&#39;</span>,
               <span class="m">546</span>: <span class="s1">&#39;BTN_DPAD_LEFT&#39;</span>,
               <span class="m">547</span>: <span class="s1">&#39;BTN_DPAD_RIGHT&#39;</span><span class="o">}</span>,
  <span class="s1">&#39;fn&#39;</span>: <span class="s1">&#39;/dev/input/event26&#39;</span>,
  <span class="s1">&#39;name&#39;</span>: <span class="s1">&#39;Wireless Steam Controller&#39;</span>,
  <span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;/dev/input/event26&#39;</span>,
  <span class="s1">&#39;phys&#39;</span>: <span class="s1">&#39;usb-0000:0b:00.3-2.4.1.2/input1&#39;</span>,
  <span class="s1">&#39;product&#39;</span>: <span class="m">4418</span>,
  <span class="s1">&#39;rel_axes&#39;</span>: None,
  <span class="s1">&#39;uniq&#39;</span>: <span class="s1">&#39;XXXXXXXXXX&#39;</span>,
  <span class="s1">&#39;unique_name&#39;</span>: <span class="s1">&#39;XXXXXXXXXX&#39;</span>,
  <span class="s1">&#39;vendor&#39;</span>: <span class="m">10462</span>,
  <span class="s1">&#39;version&#39;</span>: <span class="m">273</span><span class="o">}</span>
</pre></div>
</div>
<p>In this case there’s a single Steam Controller attached, and the command is showing a summary of the axes and buttons
it’s declaring. This isn’t the same as the set of controls the library will use for this controller, but it’ll give you
an idea for a new device whether it’s being recognized at all, and what kind of resources it’s exposing. You only really
need to do this if you’re having issues getting something to work with the library and think it might be because the
device isn’t connecting properly.</p>
</div>
<div class="section" id="debug-system-device-nodes">
<h2>Debug system device nodes<a class="headerlink" href="#debug-system-device-nodes" title="Permalink to this headline">¶</a></h2>
<p>You almost certainly do not need this, but if you’re writing a controller class for something with extra LEDs, this
command will show the available LED and power system devices for everything currently connected:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>&gt; approxeng_input_scan_sys
<span class="o">{</span> <span class="s1">&#39;leds&#39;</span>: <span class="o">{</span> <span class="s1">&#39;usb-0000:0b:00.3-2.4.1.2&#39;</span>: <span class="o">{</span> <span class="s1">&#39;capslock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input31::capslock/brightness&#39;</span>,
                                          <span class="s1">&#39;compose&#39;</span>: <span class="s1">&#39;/sys/class/leds/input31::compose/brightness&#39;</span>,
                                          <span class="s1">&#39;kana&#39;</span>: <span class="s1">&#39;/sys/class/leds/input31::kana/brightness&#39;</span>,
                                          <span class="s1">&#39;numlock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input31::numlock/brightness&#39;</span>,
                                          <span class="s1">&#39;scrolllock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input31::scrolllock/brightness&#39;</span><span class="o">}</span>,
            <span class="s1">&#39;usb-0000:0b:00.3-2.4.4.6&#39;</span>: <span class="o">{</span> <span class="s1">&#39;capslock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input15::capslock/brightness&#39;</span>,
                                          <span class="s1">&#39;numlock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input15::numlock/brightness&#39;</span>,
                                          <span class="s1">&#39;scrolllock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input15::scrolllock/brightness&#39;</span><span class="o">}</span>,
            <span class="s1">&#39;usb-0000:0b:00.3-3&#39;</span>: <span class="o">{</span> <span class="s1">&#39;capslock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input2::capslock/brightness&#39;</span>,
                                    <span class="s1">&#39;numlock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input2::numlock/brightness&#39;</span>,
                                    <span class="s1">&#39;scrolllock&#39;</span>: <span class="s1">&#39;/sys/class/leds/input2::scrolllock/brightness&#39;</span><span class="o">}}</span>,
  <span class="s1">&#39;power&#39;</span>: <span class="o">{}}</span>
</pre></div>
</div>
<p>In this case it’s just picking up the LEDs on my mouse and keyboards, but if you were to connect a controller like the
DualShock4 you’d see the corresponding devices here. In the vast majority of cases though you don’t need to use this
tool!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="bluetooth.html" class="btn btn-neutral float-right" title="Pairing Controllers over Bluetooth" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="simpleusage.html" class="btn btn-neutral float-left" title="Simple Usage" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2017, 2018, 2019, 2020 Tom Oinn
      <span class="lastupdated">
        Last updated on Aug 17, 2021.
      </span>

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>